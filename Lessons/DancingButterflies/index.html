<!DOCTYPE html>
<html>
<head>
    <title></title>
    <script src="https://code.createjs.com/createjs-2015.11.26.min.js"></script>
    <script>
        const LOADER_WIDTH = 400;
        var stage, loaderBar, loadInterval;
        var percentLoaded = 0;

        // first funtion called
        function init() {
            setupStage();
            buildLoaderBar();
            startLoad();
        }

        // typical stage set up. IE Create stage and crate tickker 60FPS
        function setupStage() {
            stage = new createjs.Stage(document.getElementById('canvas'));
            createjs.Ticker.setFPS(60);
            createjs.addEventListener("tick", function(e) {
                stage.update();
            });
        }

        function buildLoaderBar() {
            loaderBar = new createjs.Shape();
            loaderBar.x = loaderBar.y = 100;
            loaderBar.graphics.setStrokeStyle(2);
            loaderBar.graphics.beginStroke("#000");
            loaderBar.graphics.drawRect(0,0, LOADER_WIDTH, 40);
            stage.addChild(loaderBar);
        }

        // clear all excisting graphics, next create loader fill, then a strock to sit ontop of fill
        function updateLoaderBar() {
            loaderBar.graphics.clear();
            loaderBar.graphics.beginFill('#00ff00');
            loaderBar.graphics.drawRect(0,0, LOADER_WIDTH * percentLoaded, 40);
            loaderBar.graphics.endFill();
            loaderBar.graphics.setStrokeStyle(2);
            loaderBar.graphics.beginStroke("#000");
            loaderBar.graphics.drawRect(0,0, LOADER_WIDTH, 40);
            loaderBar.graphics.endStroke();
        }

        function startLoad() {
            loadInterval = setInterval(updateLoad, 50);
        }

        function updateLoad() {
            percentLoaded += .005;
            updateLoaderBar();
            if (percentLoaded >= 1) {
                clearInterval(loadInterval);
                stage.removeChild(loaderBar);
            }
        }

    </script>
</head>
<body onload="init()" style="margin: 20px">
<canvas id="canvas" width="1024" height="768" style="border: black solid 1px"></canvas>
</body>
</html>